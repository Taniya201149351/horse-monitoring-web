<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>HorseMonitor â€” User Info</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container">
    <div class="card" style="max-width:720px;margin:28px auto">
      <div class="nav">
        <div class="brand">HorseMonitor</div>
        <div class="nav-links small-muted">Profile</div>
      </div>

      <h2 class="h1">Stable & Contact Info</h2>
      <p class="subtitle">Tell us about your stable</p>

      <label>Contact number</label>
      <input id="contact" type="text" placeholder="+91..." />

      <label>Stable name</label>
      <input id="stableName" type="text" placeholder="E.g. Green Meadows" />

      <label>Location</label>
      <input id="location" type="text" placeholder="City, State, Coordinates..." />

      <label>Manager name</label>
      <input id="manager" type="text" placeholder="Manager full name" />

      <div style="margin-top:12px">
        <button id="saveProfile">Save Profile</button>
      </div>
      <div id="profileMsg" class="small-muted" style="margin-top:8px"></div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    document.getElementById('saveProfile').addEventListener('click', async ()=>{
      const data = {
        contact: document.getElementById('contact').value.trim(),
        stableName: document.getElementById('stableName').value.trim(),
        location: document.getElementById('location').value.trim(),
        managerName: document.getElementById('manager').value.trim()
      };
      const res = await app.saveUserProfile(data);
      document.getElementById('profileMsg').innerText = res.message || 'Saved';
    });

    // optionally load existing profile
    (async ()=> {
      const p = await app.loadUserProfile();
      if(p){
        document.getElementById('contact').value = p.contact||'';
        document.getElementById('stableName').value = p.stableName||'';
        document.getElementById('location').value = p.location||'';
        document.getElementById('manager').value = p.managerName||'';
      }
    })();
  </script>
</body>
</html>
